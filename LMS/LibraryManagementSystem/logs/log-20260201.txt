2026-02-01 01:18:37.020 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 01:18:37.133 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 01:18:37.208 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 01:18:37.390 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 01:18:37.413 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 01:18:37.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 01:18:37.487 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 01:18:37.513 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 01:18:37.534 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 01:18:37.584 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 01:18:38.112 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 01:18:38.135 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 01:18:38.137 +05:30 [INF] Hosting environment: Development
2026-02-01 01:18:38.157 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 01:25:06.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/ - null null
2026-02-01 01:25:07.040 +05:30 [INF] HTTP GET / responded 404 in 204.9530 ms
2026-02-01 01:25:07.139 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/ - 404 0 null 658.4557ms
2026-02-01 01:25:07.596 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5084/, Response status code: 404
2026-02-01 01:38:26.637 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger - null null
2026-02-01 01:38:26.860 +05:30 [INF] HTTP GET /Swagger responded 301 in 216.4733 ms
2026-02-01 01:38:26.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger - 301 0 null 238.4715ms
2026-02-01 01:38:26.883 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/index.html - null null
2026-02-01 01:38:27.021 +05:30 [INF] HTTP GET /Swagger/index.html responded 200 in 133.9582 ms
2026-02-01 01:38:27.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/index.html - 200 null text/html;charset=utf-8 141.6289ms
2026-02-01 01:38:27.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/index.css - null null
2026-02-01 01:38:27.052 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui-bundle.js - null null
2026-02-01 01:38:27.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui-standalone-preset.js - null null
2026-02-01 01:38:27.058 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui.css - null null
2026-02-01 01:38:27.104 +05:30 [INF] HTTP GET /Swagger/swagger-ui.css responded 200 in 2.7731 ms
2026-02-01 01:38:27.107 +05:30 [INF] HTTP GET /Swagger/index.css responded 200 in 48.7375 ms
2026-02-01 01:38:27.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/index.css - 200 152 text/css 69.1144ms
2026-02-01 01:38:27.108 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui.css - 200 26248 text/css 50.1243ms
2026-02-01 01:38:27.120 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/index.js - null null
2026-02-01 01:38:27.134 +05:30 [INF] HTTP GET /Swagger/index.js responded 200 in 1.3145 ms
2026-02-01 01:38:27.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/index.js - 200 null application/javascript;charset=utf-8 16.431ms
2026-02-01 01:38:27.173 +05:30 [INF] HTTP GET /Swagger/swagger-ui-bundle.js responded 200 in 106.1707 ms
2026-02-01 01:38:27.174 +05:30 [INF] HTTP GET /Swagger/swagger-ui-standalone-preset.js responded 200 in 95.7864 ms
2026-02-01 01:38:27.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui-bundle.js - 200 424871 text/javascript 150.0034ms
2026-02-01 01:38:27.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/swagger-ui-standalone-preset.js - 200 77848 text/javascript 152.604ms
2026-02-01 01:38:27.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/v1/swagger.json - null null
2026-02-01 01:38:27.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/Swagger/favicon-32x32.png - null null
2026-02-01 01:38:27.677 +05:30 [INF] HTTP GET /Swagger/favicon-32x32.png responded 200 in 1.8331 ms
2026-02-01 01:38:27.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/favicon-32x32.png - 200 628 image/png 182.2052ms
2026-02-01 01:38:27.993 +05:30 [INF] HTTP GET /Swagger/v1/swagger.json responded 200 in 369.5938 ms
2026-02-01 01:38:27.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/Swagger/v1/swagger.json - 200 null application/json;charset=utf-8 379.6254ms
2026-02-01 02:01:51.665 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 02:01:51.732 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:01:51.811 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:01:52.331 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:01:52.354 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 527.9239ms
2026-02-01 02:01:52.357 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:01:52.360 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 633.2464 ms
2026-02-01 02:01:52.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 711.1997ms
2026-02-01 02:02:17.819 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 46
2026-02-01 02:02:18.034 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:18.037 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:02:18.053 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:02:18.056 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 15.3218ms
2026-02-01 02:02:18.058 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:18.063 +05:30 [INF] HTTP POST /api/auth/admin/login responded 401 in 235.9231 ms
2026-02-01 02:02:18.071 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 401 null text/plain; charset=utf-8 251.8659ms
2026-02-01 02:02:28.067 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 02:02:28.385 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:28.388 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:02:28.412 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:02:28.488 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 88.0092ms
2026-02-01 02:02:28.502 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:28.505 +05:30 [INF] HTTP POST /api/auth/admin/login responded 401 in 121.4517 ms
2026-02-01 02:02:28.519 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 401 null text/plain; charset=utf-8 451.4631ms
2026-02-01 02:02:38.819 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 46
2026-02-01 02:02:38.830 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:38.834 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:02:38.854 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:02:38.858 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 6.8505ms
2026-02-01 02:02:38.863 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:38.867 +05:30 [INF] HTTP POST /api/auth/admin/login responded 401 in 38.2183 ms
2026-02-01 02:02:38.870 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 401 null text/plain; charset=utf-8 50.5528ms
2026-02-01 02:02:45.853 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 02:02:45.931 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:45.933 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:02:45.942 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:02:45.945 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 8.8051ms
2026-02-01 02:02:45.948 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:02:45.950 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 19.7225 ms
2026-02-01 02:02:45.959 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 105.9003ms
2026-02-01 02:07:40.609 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 40
2026-02-01 02:07:40.690 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:07:40.838 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:07:42.608 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:07:42.834 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:07:42.849 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 2006.0486ms
2026-02-01 02:07:42.852 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:07:42.856 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 2177.9904 ms
2026-02-01 02:07:42.871 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 2262.1167ms
2026-02-01 02:08:04.064 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 42
2026-02-01 02:08:04.070 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:04.072 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:08:04.278 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:08:04.283 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:08:04.286 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 209.6603ms
2026-02-01 02:08:04.292 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:04.297 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 228.2510 ms
2026-02-01 02:08:04.300 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 235.9549ms
2026-02-01 02:08:12.288 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 41
2026-02-01 02:08:12.505 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:12.554 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:08:12.574 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:08:12.582 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:08:12.588 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 24.3345ms
2026-02-01 02:08:12.591 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:12.596 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 92.0689 ms
2026-02-01 02:08:12.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 310.9158ms
2026-02-01 02:08:27.564 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 41
2026-02-01 02:08:27.570 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:27.572 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:08:27.589 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:08:27.596 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 02:08:27.605 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 27.1855ms
2026-02-01 02:08:27.614 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:27.624 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 54.0678 ms
2026-02-01 02:08:27.627 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 63.2633ms
2026-02-01 02:08:32.751 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 40
2026-02-01 02:08:32.756 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:32.757 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:08:32.773 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:08:32.779 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:08:32.786 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 24.4413ms
2026-02-01 02:08:32.792 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:08:32.797 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 41.8382 ms
2026-02-01 02:08:32.812 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 57.1001ms
2026-02-01 02:10:16.716 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 90
2026-02-01 02:10:16.804 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 02:10:16.824 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 02:10:16.826 +05:30 [INF] HTTP POST /api/user/create responded 403 in 105.3249 ms
2026-02-01 02:10:16.829 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 403 0 null 112.9526ms
2026-02-01 02:10:22.490 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 02:10:22.496 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:10:22.498 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:10:22.524 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:10:22.528 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 25.627ms
2026-02-01 02:10:22.532 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:10:22.536 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 40.9400 ms
2026-02-01 02:10:22.541 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 50.3698ms
2026-02-01 02:10:25.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 90
2026-02-01 02:10:25.699 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:10:25.714 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:10:26.235 +05:30 [INF] Executed DbCommand (169ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:10:26.290 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:10:26.295 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 577.0716ms
2026-02-01 02:10:26.299 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:10:26.302 +05:30 [INF] HTTP POST /api/user/create responded 200 in 607.1690 ms
2026-02-01 02:10:26.307 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 616.9989ms
2026-02-01 02:11:57.359 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 90
2026-02-01 02:11:57.368 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:11:57.370 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:11:57.426 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:11:57.702 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (Sathya).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (Sathya).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-01 02:11:57.761 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 386.8477ms
2026-02-01 02:11:57.763 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:11:57.766 +05:30 [ERR] HTTP POST /api/user/create responded 500 in 402.1296 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (Sathya).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-01 02:11:58.150 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (Sathya).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 02:11:58.301 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 500 null text/plain; charset=utf-8 941.6501ms
2026-02-01 02:12:19.956 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 92
2026-02-01 02:12:19.964 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:12:19.966 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:12:19.979 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:12:19.986 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:12:19.989 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 17.9423ms
2026-02-01 02:12:19.993 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:12:20.007 +05:30 [INF] HTTP POST /api/user/create responded 200 in 44.9441 ms
2026-02-01 02:12:20.022 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 65.9663ms
2026-02-01 02:13:49.624 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 89
2026-02-01 02:13:49.631 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:13:49.633 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:13:49.674 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:13:49.686 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:13:49.691 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 53.7489ms
2026-02-01 02:13:49.694 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:13:49.696 +05:30 [INF] HTTP POST /api/user/create responded 200 in 67.2779 ms
2026-02-01 02:13:49.710 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 85.1949ms
2026-02-01 02:15:03.014 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 91
2026-02-01 02:15:03.021 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:03.025 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:15:03.045 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:15:03.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:15:03.062 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 30.7711ms
2026-02-01 02:15:03.067 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:03.088 +05:30 [INF] HTTP POST /api/user/create responded 200 in 68.5352 ms
2026-02-01 02:15:03.099 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 85.3085ms
2026-02-01 02:15:27.738 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 92
2026-02-01 02:15:27.743 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:27.745 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:15:27.775 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:15:27.795 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (kkk).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (kkk).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-01 02:15:27.827 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 70.2328ms
2026-02-01 02:15:27.829 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:27.837 +05:30 [ERR] HTTP POST /api/user/create responded 500 in 94.3931 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (kkk).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-01 02:15:27.886 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (kkk).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 02:15:27.944 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 500 null text/plain; charset=utf-8 206.1075ms
2026-02-01 02:15:36.250 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 94
2026-02-01 02:15:36.254 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:36.257 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:15:36.268 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:15:36.275 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:15:36.277 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 16.8621ms
2026-02-01 02:15:36.282 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:36.286 +05:30 [INF] HTTP POST /api/user/create responded 200 in 32.5487 ms
2026-02-01 02:15:36.291 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 39.9673ms
2026-02-01 02:15:55.380 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 94
2026-02-01 02:15:55.385 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:55.386 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:15:55.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:15:55.420 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (KKK m).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (KKK m).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-01 02:15:55.452 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 61.4562ms
2026-02-01 02:15:55.454 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:15:55.456 +05:30 [ERR] HTTP POST /api/user/create responded 500 in 72.1499 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (KKK m).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-01 02:15:55.487 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (KKK m).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 02:15:55.521 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 500 null text/plain; charset=utf-8 141.566ms
2026-02-01 02:16:22.763 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 96
2026-02-01 02:16:22.768 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:16:22.770 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:16:22.800 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:16:22.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:16:22.815 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 27.3121ms
2026-02-01 02:16:22.851 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:16:22.918 +05:30 [INF] HTTP POST /api/user/create responded 200 in 151.0935 ms
2026-02-01 02:16:22.935 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 172.2965ms
2026-02-01 02:16:28.348 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 97
2026-02-01 02:16:28.714 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:16:28.762 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:16:28.783 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:16:28.802 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 02:16:28.833 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 68.2111ms
2026-02-01 02:16:28.867 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:16:28.869 +05:30 [INF] HTTP POST /api/user/create responded 200 in 155.8722 ms
2026-02-01 02:16:28.875 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 527.3404ms
2026-02-01 02:18:00.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all - null null
2026-02-01 02:18:00.533 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 02:18:00.550 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:18:00.568 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:18:00.573 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Models.User, LibraryManagementSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-01 02:18:00.615 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem) in 62.4094ms
2026-02-01 02:18:00.618 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 02:18:00.620 +05:30 [INF] HTTP GET /api/user/all responded 200 in 121.1089 ms
2026-02-01 02:18:00.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all - 200 null application/json; charset=utf-8 149.6745ms
2026-02-01 02:18:05.962 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 40
2026-02-01 02:18:05.967 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:18:05.969 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:18:05.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:18:05.980 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:18:05.982 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 8.5205ms
2026-02-01 02:18:05.984 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 02:18:05.986 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 19.0285 ms
2026-02-01 02:18:05.990 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 27.283ms
2026-02-01 02:18:10.319 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all - null null
2026-02-01 02:18:10.364 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 02:18:10.365 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 02:18:10.367 +05:30 [INF] HTTP GET /api/user/all responded 403 in 5.3094 ms
2026-02-01 02:18:10.370 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all - 403 0 null 51.9512ms
2026-02-01 02:18:16.816 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 02:18:16.823 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:18:16.825 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 02:18:16.833 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 02:18:16.835 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 5.5084ms
2026-02-01 02:18:16.843 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 02:18:16.844 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 22.7952 ms
2026-02-01 02:18:16.849 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 32.4366ms
2026-02-01 02:18:20.664 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 97
2026-02-01 02:18:20.681 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:18:20.700 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:18:20.727 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 02:18:20.735 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (ranjan a).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (ranjan a).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-01 02:18:20.768 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 53.7352ms
2026-02-01 02:18:20.773 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 02:18:20.775 +05:30 [ERR] HTTP POST /api/user/create responded 500 in 95.6288 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (ranjan a).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-01 02:18:20.824 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Username'. The duplicate key value is (ranjan a).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:875dd84c-5dc3-46e4-b96e-b1bcdfde8a37
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.UserRepository.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\UserRepository.cs:line 18
   at LibraryManagementSystem.Controllers.UserController.CreateUser(User user) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\UserController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 02:18:20.889 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 500 null text/plain; charset=utf-8 225.0899ms
2026-02-01 02:18:26.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all - null null
2026-02-01 02:18:26.055 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 02:18:26.058 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 02:18:26.115 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 02:18:26.123 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Models.User, LibraryManagementSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-01 02:18:26.125 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem) in 64.4735ms
2026-02-01 02:18:26.128 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 02:18:26.133 +05:30 [INF] HTTP GET /api/user/all responded 200 in 78.5259 ms
2026-02-01 02:18:26.140 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all - 200 null application/json; charset=utf-8 91.1625ms
2026-02-01 09:52:18.353 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me/1 - null null
2026-02-01 09:52:20.998 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-01 09:52:21.364 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-01 09:52:21.384 +05:30 [INF] HTTP GET /api/user/me/1 responded 401 in 2144.3974 ms
2026-02-01 09:52:21.428 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me/1 - 401 0 null 3089.7732ms
2026-02-01 09:52:36.326 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 40
2026-02-01 09:52:37.156 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:52:38.008 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:52:45.928 +05:30 [INF] Executed DbCommand (477ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 09:52:47.712 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 09:52:47.777 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 9675.8302ms
2026-02-01 09:52:47.793 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:52:47.796 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 11366.1555 ms
2026-02-01 09:52:47.799 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 11472.5051ms
2026-02-01 09:52:52.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me/1 - null null
2026-02-01 09:52:52.709 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 09:52:53.132 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 09:52:54.076 +05:30 [INF] Executed DbCommand (68ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 09:52:54.081 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 09:52:54.137 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 1000.2021ms
2026-02-01 09:52:54.140 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 09:52:54.144 +05:30 [INF] HTTP GET /api/user/me/1 responded 200 in 1682.0825 ms
2026-02-01 09:52:54.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me/1 - 200 null application/json; charset=utf-8 1730.4159ms
2026-02-01 09:53:28.966 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 43
2026-02-01 09:53:28.971 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:28.972 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:53:29.248 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 09:53:29.449 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 474.3959ms
2026-02-01 09:53:29.452 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:29.454 +05:30 [INF] HTTP POST /api/auth/user/login responded 400 in 483.4163 ms
2026-02-01 09:53:29.456 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 400 null application/problem+json; charset=utf-8 490.0792ms
2026-02-01 09:53:38.464 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 43
2026-02-01 09:53:38.737 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:38.754 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:53:38.821 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 09:53:38.829 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 26.2246ms
2026-02-01 09:53:38.838 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:38.839 +05:30 [INF] HTTP POST /api/auth/user/login responded 400 in 102.8343 ms
2026-02-01 09:53:38.842 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 400 null application/problem+json; charset=utf-8 377.4257ms
2026-02-01 09:53:47.328 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 44
2026-02-01 09:53:47.353 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:47.356 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:53:47.368 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 09:53:47.371 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 5.4922ms
2026-02-01 09:53:47.395 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:53:47.397 +05:30 [INF] HTTP POST /api/auth/user/login responded 400 in 56.4201 ms
2026-02-01 09:53:47.401 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 400 null application/problem+json; charset=utf-8 72.7915ms
2026-02-01 09:54:02.144 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 47
2026-02-01 09:54:02.148 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:02.150 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:54:02.160 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 09:54:02.248 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 91.1543ms
2026-02-01 09:54:02.250 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:02.252 +05:30 [INF] HTTP POST /api/auth/user/login responded 400 in 104.5290 ms
2026-02-01 09:54:02.255 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 400 null application/problem+json; charset=utf-8 110.9851ms
2026-02-01 09:54:07.105 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 46
2026-02-01 09:54:07.110 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:07.112 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:54:07.116 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 09:54:07.120 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 4.8725ms
2026-02-01 09:54:07.129 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:07.131 +05:30 [INF] HTTP POST /api/auth/user/login responded 400 in 21.4845 ms
2026-02-01 09:54:07.135 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 400 null application/problem+json; charset=utf-8 30.2311ms
2026-02-01 09:54:42.015 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 47
2026-02-01 09:54:42.021 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:42.023 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 09:54:42.093 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 09:54:42.099 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 09:54:42.103 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 76.7105ms
2026-02-01 09:54:42.106 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 09:54:42.108 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 87.5909 ms
2026-02-01 09:54:42.113 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 97.9216ms
2026-02-01 09:54:50.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me/1 - null null
2026-02-01 09:54:50.291 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 09:54:50.295 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 09:54:50.329 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 09:54:50.352 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 09:54:50.359 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 54.4538ms
2026-02-01 09:54:50.361 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 09:54:50.373 +05:30 [INF] HTTP GET /api/user/me/1 responded 200 in 159.1229 ms
2026-02-01 09:54:50.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me/1 - 200 null application/json; charset=utf-8 164.3888ms
2026-02-01 10:04:07.459 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - application/json 50
2026-02-01 10:04:07.524 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 10:04:07.529 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 10:04:07.532 +05:30 [INF] HTTP PATCH /api/user/update/admin/1 responded 403 in 66.9404 ms
2026-02-01 10:04:07.534 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - 403 0 null 75.5021ms
2026-02-01 10:04:14.523 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 10:04:14.529 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 10:04:14.530 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 10:04:14.768 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 10:04:14.775 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 239.963ms
2026-02-01 10:04:14.779 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 10:04:14.784 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 256.2260 ms
2026-02-01 10:04:14.796 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 272.9343ms
2026-02-01 10:04:22.735 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - application/json 50
2026-02-01 10:04:22.742 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem)'
2026-02-01 10:04:22.763 +05:30 [INF] Route matched with {action = "UpdateUserByAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserByAdmin(Int32, LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 10:04:22.879 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 10:04:22.894 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem) in 125.9452ms
2026-02-01 10:04:22.896 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem)'
2026-02-01 10:04:22.897 +05:30 [INF] HTTP PATCH /api/user/update/admin/1 responded 400 in 155.5384 ms
2026-02-01 10:04:22.900 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - 400 null application/problem+json; charset=utf-8 164.7887ms
2026-02-01 10:06:07.169 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/user/1 - application/json 71
2026-02-01 10:06:07.176 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem)'
2026-02-01 10:06:07.196 +05:30 [INF] Route matched with {action = "UpdateUserByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserByUser(Int32, LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 10:06:07.201 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 10:06:07.203 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem) in 4.1116ms
2026-02-01 10:06:07.208 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem)'
2026-02-01 10:06:07.210 +05:30 [INF] HTTP PATCH /api/user/update/user/1 responded 400 in 34.6971 ms
2026-02-01 10:06:07.215 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/user/1 - 400 null application/problem+json; charset=utf-8 45.9189ms
2026-02-01 10:06:17.475 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 42
2026-02-01 10:06:17.614 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 10:06:17.619 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 10:06:18.102 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 10:06:18.115 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 10:06:18.119 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 491.1037ms
2026-02-01 10:06:18.125 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 10:06:18.127 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 559.2118 ms
2026-02-01 10:06:18.130 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 655.4953ms
2026-02-01 10:06:24.069 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/user/1 - application/json 71
2026-02-01 10:06:24.075 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem)'
2026-02-01 10:06:24.078 +05:30 [INF] Route matched with {action = "UpdateUserByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserByUser(Int32, LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 10:06:24.082 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 10:06:24.084 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem) in 2.2266ms
2026-02-01 10:06:24.089 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByUser (LibraryManagementSystem)'
2026-02-01 10:06:24.091 +05:30 [INF] HTTP PATCH /api/user/update/user/1 responded 400 in 16.4952 ms
2026-02-01 10:06:24.093 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/user/1 - 400 null application/problem+json; charset=utf-8 24.5382ms
2026-02-01 10:07:27.433 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/block/1 - null 0
2026-02-01 10:07:27.456 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 10:07:27.459 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 10:07:27.463 +05:30 [INF] HTTP PATCH /api/user/block/1 responded 403 in 24.5866 ms
2026-02-01 10:07:27.466 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/block/1 - 403 0 null 32.6371ms
2026-02-01 10:07:33.739 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 10:07:33.751 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 10:07:33.754 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 10:07:33.778 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 10:07:33.799 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 42.5131ms
2026-02-01 10:07:33.802 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 10:07:33.804 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 53.5992 ms
2026-02-01 10:07:33.807 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 68.4863ms
2026-02-01 10:07:38.080 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/block/1 - null 0
2026-02-01 10:07:38.086 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.BlockUser (LibraryManagementSystem)'
2026-02-01 10:07:38.119 +05:30 [INF] Route matched with {action = "BlockUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BlockUser(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 10:07:39.137 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @p
2026-02-01 10:07:39.621 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsBlocked] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2026-02-01 10:07:39.652 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 10:07:39.658 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.BlockUser (LibraryManagementSystem) in 1535.2744ms
2026-02-01 10:07:39.664 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.BlockUser (LibraryManagementSystem)'
2026-02-01 10:07:39.667 +05:30 [INF] HTTP PATCH /api/user/block/1 responded 200 in 1581.1980 ms
2026-02-01 10:07:39.670 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/block/1 - 200 null application/json; charset=utf-8 1589.5957ms
2026-02-01 12:10:46.211 +05:30 [INF] Application is shutting down...
2026-02-01 12:12:20.568 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:12:20.679 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 12:12:20.909 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 12:12:21.091 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 12:12:21.122 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:12:21.131 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 12:12:21.262 +05:30 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 12:12:21.275 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 12:12:21.355 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 12:12:21.402 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 12:12:22.197 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 12:12:22.203 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 12:12:22.205 +05:30 [INF] Hosting environment: Development
2026-02-01 12:12:22.207 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 12:19:27.427 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 12:19:27.582 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 12:19:27.613 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 12:19:27.762 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 12:19:27.783 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 130.6868ms
2026-02-01 12:19:27.787 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 12:19:27.796 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 316.2348 ms
2026-02-01 12:19:27.803 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 381.1705ms
2026-02-01 12:20:43.518 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 120
2026-02-01 12:20:43.653 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:20:43.676 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:20:43.712 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 12:20:43.757 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 75.0285ms
2026-02-01 12:20:43.760 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:20:43.766 +05:30 [INF] HTTP POST /api/user/create responded 400 in 241.6535 ms
2026-02-01 12:20:43.770 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 400 null application/problem+json; charset=utf-8 251.6248ms
2026-02-01 12:21:08.398 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 122
2026-02-01 12:21:08.415 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:08.418 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:21:08.427 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 12:21:08.430 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 9.5165ms
2026-02-01 12:21:08.433 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:08.435 +05:30 [INF] HTTP POST /api/user/create responded 400 in 31.9740 ms
2026-02-01 12:21:08.439 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 400 null application/problem+json; charset=utf-8 41.2478ms
2026-02-01 12:21:24.321 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 116
2026-02-01 12:21:24.330 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:24.333 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:21:24.340 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 12:21:24.344 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 6.9366ms
2026-02-01 12:21:24.346 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:24.348 +05:30 [INF] HTTP POST /api/user/create responded 400 in 22.5712 ms
2026-02-01 12:21:24.352 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 400 null application/problem+json; charset=utf-8 31.0805ms
2026-02-01 12:21:33.683 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 118
2026-02-01 12:21:33.691 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:33.693 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:21:33.698 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 12:21:33.701 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 3.552ms
2026-02-01 12:21:33.704 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:33.708 +05:30 [INF] HTTP POST /api/user/create responded 400 in 18.7178 ms
2026-02-01 12:21:33.712 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 400 null application/problem+json; charset=utf-8 28.793ms
2026-02-01 12:21:39.273 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/create - application/json 118
2026-02-01 12:21:39.278 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:39.280 +05:30 [INF] Route matched with {action = "CreateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:21:40.002 +05:30 [INF] Executed DbCommand (139ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Department], [IsBlocked], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2026-02-01 12:21:40.091 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 12:21:40.098 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem) in 814.6727ms
2026-02-01 12:21:40.103 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.CreateUser (LibraryManagementSystem)'
2026-02-01 12:21:40.110 +05:30 [INF] HTTP POST /api/user/create responded 200 in 831.7947 ms
2026-02-01 12:21:40.133 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/create - 200 null application/json; charset=utf-8 859.8249ms
2026-02-01 12:23:26.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/al?lpageNumber=1&pageSize=3 - null null
2026-02-01 12:23:26.413 +05:30 [INF] HTTP GET /api/user/al responded 404 in 15.7667 ms
2026-02-01 12:23:26.417 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/al?lpageNumber=1&pageSize=3 - 404 0 null 25.6206ms
2026-02-01 12:23:26.426 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5084/api/user/al, Response status code: 404
2026-02-01 12:23:37.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - null null
2026-02-01 12:23:37.929 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)
LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 12:23:37.979 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - 500 null text/plain; charset=utf-8 58.2214ms
2026-02-01 12:25:56.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - null null
2026-02-01 12:25:56.266 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)
LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-02-01 12:25:56.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - 500 null text/plain; charset=utf-8 24.798ms
2026-02-01 12:26:00.509 +05:30 [INF] Application is shutting down...
2026-02-01 12:26:43.327 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:26:43.438 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 12:26:43.566 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 12:26:43.734 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 12:26:43.752 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:26:43.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 12:26:43.821 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 12:26:43.845 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 12:26:43.859 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 12:26:43.909 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 12:26:44.058 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 12:26:44.063 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 12:26:44.067 +05:30 [INF] Hosting environment: Development
2026-02-01 12:26:44.069 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 12:27:09.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - null null
2026-02-01 12:27:09.889 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 12:27:09.938 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:27:10.637 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 12:27:10.996 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@p='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
ORDER BY [u].[UserID]
OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
2026-02-01 12:27:11.206 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[LibraryManagementSystem.Models.User, LibraryManagementSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 12:27:11.327 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem) in 1377.6336ms
2026-02-01 12:27:11.332 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetAllUsers (LibraryManagementSystem)'
2026-02-01 12:27:11.345 +05:30 [INF] HTTP GET /api/user/all responded 200 in 1663.8057 ms
2026-02-01 12:27:11.366 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/all?pageNumber=1&pageSize=3 - 200 null application/json; charset=utf-8 1755.035ms
2026-02-01 12:28:59.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me/1 - null null
2026-02-01 12:28:59.702 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 12:28:59.722 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:29:00.000 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 12:29:00.056 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 12:29:00.068 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 341.7087ms
2026-02-01 12:29:00.070 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 12:29:00.074 +05:30 [INF] HTTP GET /api/user/me/1 responded 200 in 387.9804 ms
2026-02-01 12:29:00.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me/1 - 200 null application/json; charset=utf-8 403.4001ms
2026-02-01 12:29:05.663 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - application/json 50
2026-02-01 12:29:05.689 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem)'
2026-02-01 12:29:05.708 +05:30 [INF] Route matched with {action = "UpdateUserByAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserByAdmin(Int32, LibraryManagementSystem.Models.User) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:29:05.811 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 12:29:05.878 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem) in 143.1358ms
2026-02-01 12:29:05.902 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateUserByAdmin (LibraryManagementSystem)'
2026-02-01 12:29:05.904 +05:30 [INF] HTTP PATCH /api/user/update/admin/1 responded 400 in 231.5456 ms
2026-02-01 12:29:05.907 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/1 - 400 null application/problem+json; charset=utf-8 243.1534ms
2026-02-01 12:36:18.498 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/active?pageNumber=1&pageSize=5 - null null
2026-02-01 12:36:18.564 +05:30 [INF] HTTP GET /api/user/active responded 404 in 33.8827 ms
2026-02-01 12:36:18.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/active?pageNumber=1&pageSize=5 - 404 0 null 84.0539ms
2026-02-01 12:36:18.865 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5084/api/user/active, Response status code: 404
2026-02-01 12:36:23.763 +05:30 [INF] Application is shutting down...
2026-02-01 12:37:04.108 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:37:04.283 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 12:37:04.571 +05:30 [INF] Executed DbCommand (281ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 12:37:04.809 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 12:37:04.845 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 12:37:04.872 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 12:37:05.013 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 12:37:05.035 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 12:37:05.044 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 12:37:05.089 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 12:37:05.290 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 12:37:05.295 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 12:37:05.297 +05:30 [INF] Hosting environment: Development
2026-02-01 12:37:05.299 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 12:37:09.333 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/active?pageNumber=1&pageSize=5 - null null
2026-02-01 12:37:09.566 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetActiveUsers (LibraryManagementSystem)'
2026-02-01 12:37:09.628 +05:30 [INF] Route matched with {action = "GetActiveUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveUsers(Int32, Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:37:10.386 +05:30 [INF] Executed DbCommand (172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[IsBlocked] = CAST(0 AS bit)
2026-02-01 12:37:10.591 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@p='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[IsBlocked] = CAST(0 AS bit)
ORDER BY [u].[UserID]
OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
2026-02-01 12:37:10.742 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[LibraryManagementSystem.Models.User, LibraryManagementSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 12:37:10.812 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetActiveUsers (LibraryManagementSystem) in 1173.0252ms
2026-02-01 12:37:10.816 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetActiveUsers (LibraryManagementSystem)'
2026-02-01 12:37:10.830 +05:30 [INF] HTTP GET /api/user/active responded 200 in 1456.0808 ms
2026-02-01 12:37:10.880 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/active?pageNumber=1&pageSize=5 - 200 null application/json; charset=utf-8 1549.8565ms
2026-02-01 12:54:40.006 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me/1 - null null
2026-02-01 12:54:40.932 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 12:54:41.241 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 12:54:42.326 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 12:54:42.376 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 12:54:42.477 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 1214.6119ms
2026-02-01 12:54:42.482 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 12:54:42.485 +05:30 [INF] HTTP GET /api/user/me/1 responded 200 in 2084.7092 ms
2026-02-01 12:54:42.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me/1 - 200 null application/json; charset=utf-8 2578.7932ms
2026-02-01 13:01:29.471 +05:30 [INF] Application is shutting down...
2026-02-01 13:20:23.925 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 13:20:24.080 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 13:20:24.204 +05:30 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 13:20:24.366 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 13:20:24.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 13:20:24.404 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 13:20:24.493 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 13:20:24.514 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 13:20:24.563 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 13:20:24.611 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 13:20:24.826 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 13:20:24.830 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 13:20:24.833 +05:30 [INF] Hosting environment: Development
2026-02-01 13:20:24.835 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 13:22:33.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/GET /api/user/me - null null
2026-02-01 13:22:34.345 +05:30 [INF] HTTP GET /GET /api/user/me responded 404 in 264.3458 ms
2026-02-01 13:22:34.370 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/GET /api/user/me - 404 0 null 378.9671ms
2026-02-01 13:22:34.379 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5084/GET%20/api/user/me, Response status code: 404
2026-02-01 13:23:08.953 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 42
2026-02-01 13:23:08.985 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:09.046 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:23:09.869 +05:30 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:23:10.039 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 13:23:10.049 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 994.2229ms
2026-02-01 13:23:10.052 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:10.056 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 1082.4845 ms
2026-02-01 13:23:10.064 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 1111.0396ms
2026-02-01 13:23:31.809 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 42
2026-02-01 13:23:31.827 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:31.830 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:23:32.073 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:23:32.078 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 13:23:32.082 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 247.4338ms
2026-02-01 13:23:32.086 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:32.088 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 270.0441 ms
2026-02-01 13:23:32.095 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 285.9223ms
2026-02-01 13:23:54.877 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 48
2026-02-01 13:23:55.172 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:55.177 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:23:55.243 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:23:55.246 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 13:23:55.250 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 67.1178ms
2026-02-01 13:23:55.252 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:23:55.254 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 82.6595 ms
2026-02-01 13:23:55.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 379.2755ms
2026-02-01 13:24:08.467 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 47
2026-02-01 13:24:08.472 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:24:08.473 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:24:08.491 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:24:08.521 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:24:08.538 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 61.3308ms
2026-02-01 13:24:08.541 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:24:08.543 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 71.8441 ms
2026-02-01 13:24:08.550 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 82.5324ms
2026-02-01 13:24:18.267 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/GET /api/user/me - null null
2026-02-01 13:24:18.275 +05:30 [INF] HTTP GET /GET /api/user/me responded 404 in 1.8285 ms
2026-02-01 13:24:18.281 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/GET /api/user/me - 404 0 null 13.7167ms
2026-02-01 13:24:18.287 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5084/GET%20/api/user/me, Response status code: 404
2026-02-01 13:24:33.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me - null null
2026-02-01 13:24:33.137 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:24:33.153 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:24:33.310 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@username='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @username AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:24:33.316 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 13:24:33.326 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 169.6437ms
2026-02-01 13:24:33.331 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:24:33.332 +05:30 [INF] HTTP GET /api/user/me responded 200 in 210.5929 ms
2026-02-01 13:24:33.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me - 200 null application/json; charset=utf-8 218.187ms
2026-02-01 13:25:11.634 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 48
2026-02-01 13:25:11.896 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:25:11.908 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:25:12.035 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:25:12.045 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:25:12.049 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 120.8747ms
2026-02-01 13:25:12.065 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:25:12.079 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 195.6724 ms
2026-02-01 13:25:12.083 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 448.8675ms
2026-02-01 13:25:18.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me - null null
2026-02-01 13:25:18.169 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:25:18.171 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:25:18.191 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@username='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @username AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:25:18.197 +05:30 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Models.User'.
2026-02-01 13:25:18.205 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 30.2368ms
2026-02-01 13:25:18.207 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:25:18.209 +05:30 [INF] HTTP GET /api/user/me responded 200 in 45.8623 ms
2026-02-01 13:25:18.212 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me - 200 null application/json; charset=utf-8 55.883ms
2026-02-01 13:25:43.311 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 13:25:43.318 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:25:43.324 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:25:43.335 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:25:43.341 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 13.1982ms
2026-02-01 13:25:43.344 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:25:43.351 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 33.3980 ms
2026-02-01 13:25:43.357 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 45.4355ms
2026-02-01 13:25:46.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/me - null null
2026-02-01 13:25:46.957 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:25:46.963 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:25:46.997 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@username='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @username AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:25:47.007 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-02-01 13:25:47.054 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem) in 84.9763ms
2026-02-01 13:25:47.057 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetMyProfile (LibraryManagementSystem)'
2026-02-01 13:25:47.059 +05:30 [INF] HTTP GET /api/user/me responded 401 in 111.4719 ms
2026-02-01 13:25:47.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/me - 401 null application/problem+json; charset=utf-8 132.8653ms
2026-02-01 13:27:35.851 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/profile - application/json 50
2026-02-01 13:27:36.108 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem)'
2026-02-01 13:27:36.137 +05:30 [INF] Route matched with {action = "UpdateOwnProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOwnProfile(UserUpdateDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:27:36.238 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 13:27:36.251 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem) in 48.9765ms
2026-02-01 13:27:36.253 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem)'
2026-02-01 13:27:36.255 +05:30 [INF] HTTP PATCH /api/user/update/profile responded 400 in 148.2949 ms
2026-02-01 13:27:36.258 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/profile - 400 null application/problem+json; charset=utf-8 407.317ms
2026-02-01 13:28:56.851 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084//api/user/update/admin/{3} - application/json 50
2026-02-01 13:28:56.857 +05:30 [INF] HTTP PATCH //api/user/update/admin/{3} responded 404 in 0.9290 ms
2026-02-01 13:28:56.860 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084//api/user/update/admin/{3} - 404 0 null 8.8722ms
2026-02-01 13:28:56.866 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084//api/user/update/admin/%7B3%7D, Response status code: 404
2026-02-01 13:29:10.570 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 13:29:10.577 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:29:10.587 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:29:10.598 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:29:10.603 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 12.0441ms
2026-02-01 13:29:10.605 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:29:10.607 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 31.2119 ms
2026-02-01 13:29:10.611 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 40.6309ms
2026-02-01 13:29:17.469 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084//api/user/update/admin/{3} - application/json 50
2026-02-01 13:29:17.475 +05:30 [INF] HTTP PATCH //api/user/update/admin/{3} responded 404 in 1.1471 ms
2026-02-01 13:29:17.483 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084//api/user/update/admin/{3} - 404 0 null 14.4748ms
2026-02-01 13:29:17.489 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084//api/user/update/admin/%7B3%7D, Response status code: 404
2026-02-01 13:29:24.988 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/{3} - application/json 50
2026-02-01 13:29:25.000 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:29:25.026 +05:30 [INF] Route matched with {action = "AdminUpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminUpdateUser(Int32, AdminUpdateUserDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:29:25.089 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 13:29:25.092 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem) in 59.9302ms
2026-02-01 13:29:25.098 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:29:25.103 +05:30 [INF] HTTP PATCH /api/user/update/admin/{3} responded 400 in 105.5081 ms
2026-02-01 13:29:25.106 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/{3} - 400 null application/problem+json; charset=utf-8 117.4178ms
2026-02-01 13:29:38.448 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - application/json 50
2026-02-01 13:29:38.452 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:29:38.454 +05:30 [INF] Route matched with {action = "AdminUpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminUpdateUser(Int32, AdminUpdateUserDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:29:38.595 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:29:39.048 +05:30 [INF] Executed DbCommand (174ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ContactNumber] = @p0, [Department] = @p1, [IsBlocked] = @p2, [IsDeleted] = @p3, [Password] = @p4, [Username] = @p5
OUTPUT 1
WHERE [UserID] = @p6;
2026-02-01 13:29:39.081 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 13:29:39.084 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem) in 625.3677ms
2026-02-01 13:29:39.087 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:29:39.089 +05:30 [INF] HTTP PATCH /api/user/update/admin/3 responded 200 in 637.0001 ms
2026-02-01 13:29:39.093 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - 200 null text/plain; charset=utf-8 645.2513ms
2026-02-01 13:30:28.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 48
2026-02-01 13:30:28.126 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:30:28.128 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:30:28.147 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:30:28.151 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:30:28.153 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 21.9847ms
2026-02-01 13:30:28.156 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 13:30:28.157 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 32.0805 ms
2026-02-01 13:30:28.161 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 39.184ms
2026-02-01 13:30:57.357 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/profile - application/json 71
2026-02-01 13:30:57.364 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem)'
2026-02-01 13:30:57.367 +05:30 [INF] Route matched with {action = "UpdateOwnProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOwnProfile(UserUpdateDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:30:57.442 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@username='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @username AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:30:57.766 +05:30 [INF] Executed DbCommand (316ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ContactNumber] = @p0, [Department] = @p1, [IsBlocked] = @p2, [IsDeleted] = @p3, [Password] = @p4, [Username] = @p5
OUTPUT 1
WHERE [UserID] = @p6;
2026-02-01 13:30:57.787 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 13:30:57.797 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem) in 425.7386ms
2026-02-01 13:30:57.802 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UpdateOwnProfile (LibraryManagementSystem)'
2026-02-01 13:30:57.807 +05:30 [INF] HTTP PATCH /api/user/update/profile responded 200 in 443.5899 ms
2026-02-01 13:30:57.811 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/profile - 200 null text/plain; charset=utf-8 453.5923ms
2026-02-01 13:31:43.094 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 13:31:43.100 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:31:43.109 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 13:31:43.164 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 13:31:43.168 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 54.9957ms
2026-02-01 13:31:43.171 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 13:31:43.174 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 75.0887 ms
2026-02-01 13:31:43.177 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 83.2937ms
2026-02-01 13:31:48.523 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - application/json 51
2026-02-01 13:31:48.528 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:31:48.530 +05:30 [INF] Route matched with {action = "AdminUpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminUpdateUser(Int32, AdminUpdateUserDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:31:48.539 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 13:31:48.544 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem) in 9.3029ms
2026-02-01 13:31:48.546 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:31:48.548 +05:30 [INF] HTTP PATCH /api/user/update/admin/3 responded 400 in 20.3514 ms
2026-02-01 13:31:48.551 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - 400 null application/problem+json; charset=utf-8 28.7467ms
2026-02-01 13:31:54.430 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - application/json 52
2026-02-01 13:31:54.447 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:31:54.455 +05:30 [INF] Route matched with {action = "AdminUpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminUpdateUser(Int32, AdminUpdateUserDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:31:54.471 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 13:31:54.475 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem) in 7.6012ms
2026-02-01 13:31:54.479 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:31:54.481 +05:30 [INF] HTTP PATCH /api/user/update/admin/3 responded 400 in 35.6800 ms
2026-02-01 13:31:54.483 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - 400 null application/problem+json; charset=utf-8 53.3733ms
2026-02-01 13:32:20.178 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - application/json 50
2026-02-01 13:32:20.184 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:32:20.187 +05:30 [INF] Route matched with {action = "AdminUpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminUpdateUser(Int32, AdminUpdateUserDto) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 13:32:20.212 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 13:32:20.230 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ContactNumber] = @p0, [Department] = @p1, [IsBlocked] = @p2, [IsDeleted] = @p3, [Password] = @p4, [Username] = @p5
OUTPUT 1
WHERE [UserID] = @p6;
2026-02-01 13:32:20.239 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 13:32:20.242 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem) in 50.8391ms
2026-02-01 13:32:20.245 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.AdminUpdateUser (LibraryManagementSystem)'
2026-02-01 13:32:20.247 +05:30 [INF] HTTP PATCH /api/user/update/admin/3 responded 200 in 64.3542 ms
2026-02-01 13:32:20.254 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/update/admin/3 - 200 null text/plain; charset=utf-8 76.6494ms
2026-02-01 13:37:18.868 +05:30 [INF] Application is shutting down...
2026-02-01 13:38:24.818 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 13:38:24.951 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 13:38:25.125 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 13:38:25.330 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 13:38:25.347 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 13:38:25.363 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 13:38:25.449 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 13:38:25.471 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 13:38:25.522 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 13:38:25.592 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 13:38:25.830 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 13:38:25.834 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 13:38:25.836 +05:30 [INF] Hosting environment: Development
2026-02-01 13:38:25.839 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 14:01:23.807 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/unblock/1 - null 0
2026-02-01 14:01:26.793 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 49
2026-02-01 14:01:28.560 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:01:28.559 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2026-02-01 14:01:28.573 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2026-02-01 14:01:28.617 +05:30 [INF] HTTP POST /api/user/unblock/1 responded 405 in 1827.7358 ms
2026-02-01 14:01:28.639 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/unblock/1 - 405 0 null 5506.3064ms
2026-02-01 14:01:28.994 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 14:01:32.177 +05:30 [INF] Executed DbCommand (601ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:01:32.377 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 14:01:32.394 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 3390.0303ms
2026-02-01 14:01:32.398 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:01:32.408 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 5543.9025 ms
2026-02-01 14:01:32.419 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 5644.1828ms
2026-02-01 14:01:56.098 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 48
2026-02-01 14:01:56.135 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:01:56.139 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 14:01:56.322 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:01:56.356 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2026-02-01 14:01:56.359 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 216.6029ms
2026-02-01 14:01:56.363 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:01:56.367 +05:30 [INF] HTTP POST /api/auth/user/login responded 401 in 250.0962 ms
2026-02-01 14:01:56.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 401 null text/plain; charset=utf-8 278.1426ms
2026-02-01 14:02:11.807 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 51
2026-02-01 14:02:11.815 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:02:11.817 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 14:02:11.878 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:02:11.981 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 14:02:11.997 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 176.728ms
2026-02-01 14:02:12.000 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:02:12.003 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 187.9829 ms
2026-02-01 14:02:12.006 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 198.8126ms
2026-02-01 14:02:18.078 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/user/unblock/1 - null 0
2026-02-01 14:02:18.084 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2026-02-01 14:02:18.085 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2026-02-01 14:02:18.086 +05:30 [INF] HTTP POST /api/user/unblock/1 responded 405 in 3.3172 ms
2026-02-01 14:02:18.089 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/user/unblock/1 - 405 0 null 10.7481ms
2026-02-01 14:02:25.888 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/1 - null 0
2026-02-01 14:02:25.924 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 14:02:25.931 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 14:02:25.933 +05:30 [INF] HTTP PATCH /api/user/unblock/1 responded 403 in 38.1367 ms
2026-02-01 14:02:25.935 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/1 - 403 0 null 47.8917ms
2026-02-01 14:02:32.448 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 14:02:32.453 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 14:02:32.462 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 14:02:32.552 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 14:02:32.558 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 92.5036ms
2026-02-01 14:02:32.562 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 14:02:32.565 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 112.7616 ms
2026-02-01 14:02:32.569 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 120.8561ms
2026-02-01 14:02:37.825 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/1 - null 0
2026-02-01 14:02:37.857 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:02:37.892 +05:30 [INF] Route matched with {action = "UnblockUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnblockUser(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 14:02:38.223 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:02:38.509 +05:30 [INF] Executed DbCommand (116ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsBlocked] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2026-02-01 14:02:38.536 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 14:02:38.539 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem) in 643.4611ms
2026-02-01 14:02:38.542 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:02:38.544 +05:30 [INF] HTTP PATCH /api/user/unblock/1 responded 200 in 709.6688 ms
2026-02-01 14:02:38.547 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/1 - 200 null text/plain; charset=utf-8 722.0791ms
2026-02-01 14:13:08.325 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/2 - null 0
2026-02-01 14:13:08.357 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:13:08.361 +05:30 [INF] Route matched with {action = "UnblockUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnblockUser(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 14:13:08.425 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:13:08.430 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2026-02-01 14:13:08.433 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem) in 67.673ms
2026-02-01 14:13:08.437 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:13:08.440 +05:30 [INF] HTTP PATCH /api/user/unblock/2 responded 404 in 92.8697 ms
2026-02-01 14:13:08.443 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/2 - 404 null text/plain; charset=utf-8 119.0751ms
2026-02-01 14:13:22.369 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/3 - null 0
2026-02-01 14:13:22.376 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:13:22.378 +05:30 [INF] Route matched with {action = "UnblockUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnblockUser(Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 14:13:22.391 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @id AND [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:13:22.410 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 14:13:22.412 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem) in 30.402ms
2026-02-01 14:13:22.414 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.UnblockUser (LibraryManagementSystem)'
2026-02-01 14:13:22.417 +05:30 [INF] HTTP PATCH /api/user/unblock/3 responded 200 in 42.2380 ms
2026-02-01 14:13:22.427 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/user/unblock/3 - 200 null text/plain; charset=utf-8 57.7223ms
2026-02-01 14:19:20.140 +05:30 [INF] Application is shutting down...
2026-02-01 14:23:54.854 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 14:23:54.941 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 14:23:55.361 +05:30 [INF] Executed DbCommand (412ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 14:23:55.526 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 14:23:55.546 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 14:23:55.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 14:23:55.737 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 14:23:55.753 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 14:23:55.763 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 14:23:55.842 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 14:23:56.075 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 14:23:56.080 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 14:23:56.082 +05:30 [INF] Hosting environment: Development
2026-02-01 14:23:56.085 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 14:24:50.149 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/blocked - null null
2026-02-01 14:24:50.184 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 51
2026-02-01 14:24:50.459 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.UserController.GetBlockedUsers (LibraryManagementSystem)'
2026-02-01 14:24:50.459 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:24:50.521 +05:30 [INF] Route matched with {action = "GetBlockedUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBlockedUsers(Int32, Int32) on controller LibraryManagementSystem.Controllers.UserController (LibraryManagementSystem).
2026-02-01 14:24:50.521 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 14:24:51.412 +05:30 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[IsBlocked] = CAST(1 AS bit)
2026-02-01 14:24:51.461 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2026-02-01 14:24:51.465 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2026-02-01 14:24:51.717 +05:30 [INF] Executed DbCommand (215ms) [Parameters=[@p='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[IsBlocked] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
2026-02-01 14:24:51.738 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[LibraryManagementSystem.Models.User, LibraryManagementSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 14:24:51.799 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.UserController.GetBlockedUsers (LibraryManagementSystem) in 1260.0408ms
2026-02-01 14:24:51.808 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.UserController.GetBlockedUsers (LibraryManagementSystem)'
2026-02-01 14:24:51.818 +05:30 [INF] HTTP GET /api/user/blocked responded 200 in 1611.4577 ms
2026-02-01 14:24:51.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/blocked - 200 null application/json; charset=utf-8 1705.3427ms
2026-02-01 14:24:51.960 +05:30 [INF] Executed DbCommand (731ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 14:24:52.191 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 14:24:52.624 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 2090.689ms
2026-02-01 14:24:52.628 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 14:24:52.635 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 2390.3913 ms
2026-02-01 14:24:52.648 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 2464.7798ms
2026-02-01 14:25:14.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/user/blocked - null null
2026-02-01 14:25:14.740 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 14:25:14.746 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 14:25:14.748 +05:30 [INF] HTTP GET /api/user/blocked responded 403 in 23.1849 ms
2026-02-01 14:25:14.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/user/blocked - 403 0 null 37.1845ms
2026-02-01 14:46:23.551 +05:30 [INF] Application is shutting down...
2026-02-01 15:02:31.637 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:02:31.775 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 15:02:32.129 +05:30 [INF] Executed DbCommand (346ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 15:02:32.362 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 15:02:32.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:02:32.396 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 15:02:32.564 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 15:02:32.580 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 15:02:32.604 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 15:02:32.684 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 15:02:32.908 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 15:02:32.918 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 15:02:32.924 +05:30 [INF] Hosting environment: Development
2026-02-01 15:02:32.928 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 15:14:01.633 +05:30 [INF] Application is shutting down...
2026-02-01 15:18:20.973 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:18:21.073 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 15:18:21.206 +05:30 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 15:18:21.372 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 15:18:21.392 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:18:21.396 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 15:18:21.504 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 15:18:21.522 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 15:18:21.561 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 15:18:21.601 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 15:18:21.817 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 15:18:21.823 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 15:18:21.827 +05:30 [INF] Hosting environment: Development
2026-02-01 15:18:21.828 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 15:21:37.876 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 81
2026-02-01 15:21:38.202 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 15:21:38.208 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 15:21:38.214 +05:30 [INF] HTTP POST /api/book/add responded 403 in 240.5405 ms
2026-02-01 15:21:38.229 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 403 0 null 359.5763ms
2026-02-01 15:21:45.101 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 15:21:45.171 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 15:21:45.235 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 15:21:45.459 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 15:21:45.483 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 229.216ms
2026-02-01 15:21:45.488 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 15:21:45.492 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 384.1666 ms
2026-02-01 15:21:45.530 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 428.8811ms
2026-02-01 15:21:49.371 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 81
2026-02-01 15:21:49.580 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 15:21:49.626 +05:30 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(LibraryManagementSystem.Dtos.BookDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:21:50.664 +05:30 [INF] Executed DbCommand (725ms) [Parameters=[@Title='?' (Size = 14), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC AddBook @Title, @Author, @TotalCopies
2026-02-01 15:21:50.678 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 15:21:50.682 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem) in 1050.5031ms
2026-02-01 15:21:50.692 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 15:21:50.700 +05:30 [INF] HTTP POST /api/book/add responded 200 in 1142.3477 ms
2026-02-01 15:21:50.724 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 200 null text/plain; charset=utf-8 1351.9698ms
2026-02-01 15:22:52.267 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update - application/json 106
2026-02-01 15:22:52.279 +05:30 [INF] HTTP PATCH /api/book/update responded 404 in 3.7948 ms
2026-02-01 15:22:52.282 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update - 404 0 null 14.7619ms
2026-02-01 15:22:52.287 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084/api/book/update, Response status code: 404
2026-02-01 15:23:06.894 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update - application/json 106
2026-02-01 15:23:06.900 +05:30 [INF] HTTP PATCH /api/book/update responded 404 in 0.5734 ms
2026-02-01 15:23:06.902 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update - 404 0 null 7.4749ms
2026-02-01 15:23:06.908 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084/api/book/update, Response status code: 404
2026-02-01 15:23:56.014 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete - application/json 21
2026-02-01 15:23:56.021 +05:30 [INF] HTTP PATCH /api/book/delete responded 404 in 0.8025 ms
2026-02-01 15:23:56.026 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete - 404 0 null 12.3269ms
2026-02-01 15:23:56.038 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084/api/book/delete, Response status code: 404
2026-02-01 15:24:33.752 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update - application/json 106
2026-02-01 15:24:33.757 +05:30 [INF] HTTP PATCH /api/book/update responded 404 in 0.5016 ms
2026-02-01 15:24:33.761 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update - 404 0 null 8.3143ms
2026-02-01 15:24:33.769 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084/api/book/update, Response status code: 404
2026-02-01 15:24:45.684 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete - application/json 21
2026-02-01 15:24:45.689 +05:30 [INF] HTTP PATCH /api/book/delete responded 404 in 0.6660 ms
2026-02-01 15:24:45.698 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete - 404 0 null 13.9519ms
2026-02-01 15:24:45.706 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://localhost:5084/api/book/delete, Response status code: 404
2026-02-01 15:30:26.720 +05:30 [INF] Application is shutting down...
2026-02-01 15:31:19.444 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:31:19.619 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 15:31:20.186 +05:30 [INF] Executed DbCommand (561ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 15:31:20.380 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 15:31:20.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 15:31:20.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 15:31:20.770 +05:30 [INF] Executed DbCommand (357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 15:31:20.793 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 15:31:20.825 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 15:31:20.922 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 15:31:21.120 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 15:31:21.126 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 15:31:21.128 +05:30 [INF] Hosting environment: Development
2026-02-01 15:31:21.130 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 15:32:02.027 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 15:32:02.359 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 15:32:02.408 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 15:32:02.603 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 15:32:02.694 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 264.38ms
2026-02-01 15:32:02.783 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 15:32:02.810 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 692.9239 ms
2026-02-01 15:32:02.827 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 806.3703ms
2026-02-01 15:32:06.280 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 81
2026-02-01 15:32:06.303 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 15:32:06.338 +05:30 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(LibraryManagementSystem.Dtos.BookDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:32:06.646 +05:30 [INF] Executed DbCommand (177ms) [Parameters=[@Title='?' (Size = 14), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC AddBook @Title, @Author, @TotalCopies
2026-02-01 15:32:06.659 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 15:32:06.664 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem) in 319.7656ms
2026-02-01 15:32:06.666 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 15:32:06.671 +05:30 [INF] HTTP POST /api/book/add responded 200 in 383.4237 ms
2026-02-01 15:32:06.680 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 200 null text/plain; charset=utf-8 399.944ms
2026-02-01 15:38:21.668 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - application/json 79
2026-02-01 15:38:22.703 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 15:38:22.833 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:38:24.557 +05:30 [INF] Executed DbCommand (447ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 15:38:24.573 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 15:38:24.579 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 1742.647ms
2026-02-01 15:38:24.582 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 15:38:24.632 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 2717.8067 ms
2026-02-01 15:38:24.637 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - 200 null text/plain; charset=utf-8 2969.801ms
2026-02-01 15:39:32.383 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=2 - null 0
2026-02-01 15:39:32.395 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 15:39:32.453 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:39:32.635 +05:30 [INF] Executed DbCommand (155ms) [Parameters=[@BookID='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC DeleteBook @BookID
2026-02-01 15:39:32.641 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 15:39:32.644 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem) in 188.2913ms
2026-02-01 15:39:32.652 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 15:39:32.657 +05:30 [INF] HTTP PATCH /api/book/delete responded 200 in 267.7473 ms
2026-02-01 15:39:32.662 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=2 - 200 null text/plain; charset=utf-8 278.6828ms
2026-02-01 15:41:00.450 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/issue - null 0
2026-02-01 15:41:00.546 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem)'
2026-02-01 15:41:00.584 +05:30 [INF] Route matched with {action = "IssueBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IssueBook(LibraryManagementSystem.Dtos.IssueDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:41:01.071 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-02-01 15:41:01.935 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem) in 1346.0023ms
2026-02-01 15:41:01.938 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem)'
2026-02-01 15:41:01.940 +05:30 [INF] HTTP PATCH /api/book/issue responded 415 in 1413.0457 ms
2026-02-01 15:41:01.944 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/issue - 415 null application/problem+json; charset=utf-8 1494.5841ms
2026-02-01 15:41:23.738 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/issue - application/json 37
2026-02-01 15:41:23.795 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem)'
2026-02-01 15:41:23.829 +05:30 [INF] Route matched with {action = "IssueBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IssueBook(LibraryManagementSystem.Dtos.IssueDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 15:41:24.605 +05:30 [INF] Executed DbCommand (540ms) [Parameters=[@BookID='?' (DbType = Int32), @UserID='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC IssueBook @BookID, @UserID
2026-02-01 15:41:24.616 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 15:41:24.620 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem) in 786.8006ms
2026-02-01 15:41:24.624 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.IssueBook (LibraryManagementSystem)'
2026-02-01 15:41:24.627 +05:30 [INF] HTTP PATCH /api/book/issue responded 200 in 882.2901 ms
2026-02-01 15:41:24.653 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/issue - 200 null text/plain; charset=utf-8 914.8572ms
2026-02-01 15:48:47.502 +05:30 [INF] Application is shutting down...
2026-02-01 16:06:40.743 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:06:40.847 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:06:41.065 +05:30 [INF] Executed DbCommand (208ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:06:41.247 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:06:41.271 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:06:41.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:06:41.410 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:06:41.437 +05:30 [INF] Applying migration '20260201102545_AddBooksAndConstraints'.
2026-02-01 16:06:41.657 +05:30 [ERR] Failed executing DbCommand (190ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [BookId] int NOT NULL IDENTITY,
    [Title] nvarchar(450) NOT NULL,
    [Author] nvarchar(450) NOT NULL,
    [Category] nvarchar(max) NOT NULL,
    [TotalCopies] int NOT NULL,
    [AvailableCopies] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([BookId])
);
2026-02-01 16:07:00.235 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:07:00.340 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:07:00.378 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:07:00.592 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:07:00.611 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:07:00.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:07:00.628 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:07:00.656 +05:30 [INF] Applying migration '20260201102545_AddBooksAndConstraints'.
2026-02-01 16:07:00.710 +05:30 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [BookId] int NOT NULL IDENTITY,
    [Title] nvarchar(450) NOT NULL,
    [Author] nvarchar(450) NOT NULL,
    [Category] nvarchar(max) NOT NULL,
    [TotalCopies] int NOT NULL,
    [AvailableCopies] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([BookId])
);
2026-02-01 16:12:42.352 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:12:42.457 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:12:42.510 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:12:42.921 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:12:42.978 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:12:42.991 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:12:43.039 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:12:43.071 +05:30 [INF] Applying migration '20260201102545_AddBooksAndConstraints'.
2026-02-01 16:12:43.248 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260201102545_AddBooksAndConstraints', N'10.0.2');
2026-02-01 16:12:43.253 +05:30 [INF] Applying migration '20260201103559_AddBookAndIssueTables'.
2026-02-01 16:12:43.337 +05:30 [ERR] Failed executing DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Books];
2026-02-01 16:13:36.441 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:13:36.540 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:13:36.594 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:13:36.763 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:13:36.786 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:13:36.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:13:36.811 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:13:36.833 +05:30 [INF] Applying migration '20260201103559_AddBookAndIssueTables'.
2026-02-01 16:13:36.851 +05:30 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Books];
2026-02-01 16:19:31.899 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:19:32.011 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:19:32.050 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:19:32.272 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:19:32.291 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:19:32.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:19:32.322 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:19:32.356 +05:30 [INF] Applying migration '20260201103559_AddBookAndIssueTables'.
2026-02-01 16:19:32.428 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20260201103559_AddBookAndIssueTables', N'10.0.2');
2026-02-01 16:19:32.439 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:19:47.531 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:19:47.655 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:19:47.703 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:19:47.860 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:19:47.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:19:47.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:19:47.899 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:19:47.921 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 16:19:47.932 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:19:48.002 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 16:19:48.178 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 16:19:48.184 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 16:19:48.186 +05:30 [INF] Hosting environment: Development
2026-02-01 16:19:48.188 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 16:23:50.650 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 16:23:50.697 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:23:52.763 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:23:52.763 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:23:52.971 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:23:52.971 +05:30 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(LibraryManagementSystem.Dtos.BookDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:23:53.402 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:23:53.423 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 439.4968ms
2026-02-01 16:23:53.427 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:23:53.433 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 1971.2535 ms
2026-02-01 16:23:53.475 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 2959.1303ms
2026-02-01 16:23:57.033 +05:30 [INF] Executed DbCommand (3,303ms) [Parameters=[@Title='?' (Size = 2), @Author='?' (Size = 2), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC sp_AddBook @Title, @Author, @TotalCopies
2026-02-01 16:23:57.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:23:57.059 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem) in 4079.7017ms
2026-02-01 16:23:57.062 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:23:57.069 +05:30 [INF] HTTP POST /api/book/add responded 200 in 5611.4042 ms
2026-02-01 16:23:57.080 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 200 null text/plain; charset=utf-8 6564.8171ms
2026-02-01 16:24:10.659 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 16:24:10.688 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:24:10.691 +05:30 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(LibraryManagementSystem.Dtos.BookDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:24:10.861 +05:30 [ERR] Failed executing DbCommand (21ms) [Parameters=[@Title='?' (Size = 2), @Author='?' (Size = 2), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC sp_AddBook @Title, @Author, @TotalCopies
2026-02-01 16:24:10.867 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2026-02-01 16:24:10.870 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem) in 176.2823ms
2026-02-01 16:24:10.873 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:24:10.876 +05:30 [INF] HTTP POST /api/book/add responded 400 in 209.3859 ms
2026-02-01 16:24:10.884 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 400 null text/plain; charset=utf-8 224.9558ms
2026-02-01 16:25:34.243 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 64
2026-02-01 16:25:34.275 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:25:34.277 +05:30 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(LibraryManagementSystem.Dtos.BookDto) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:25:34.298 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-01 16:25:34.399 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem) in 118.1782ms
2026-02-01 16:25:34.404 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.AddBook (LibraryManagementSystem)'
2026-02-01 16:25:34.594 +05:30 [INF] HTTP POST /api/book/add responded 400 in 345.8617 ms
2026-02-01 16:25:34.597 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 400 null application/problem+json; charset=utf-8 353.4505ms
2026-02-01 16:25:58.678 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 51
2026-02-01 16:25:58.686 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 16:25:58.703 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:25:59.892 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 16:26:00.044 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:26:00.048 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 1341.1102ms
2026-02-01 16:26:00.061 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 16:26:00.072 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 1386.4540 ms
2026-02-01 16:26:00.075 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 1396.9465ms
2026-02-01 16:26:03.987 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 16:26:03.993 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 16:26:03.999 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 16:26:04.001 +05:30 [INF] HTTP POST /api/book/add responded 403 in 9.8184 ms
2026-02-01 16:26:04.004 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 403 0 null 17.1587ms
2026-02-01 16:26:41.129 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - application/json 79
2026-02-01 16:26:41.135 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-02-01 16:26:41.138 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-01 16:26:41.141 +05:30 [INF] HTTP PATCH /api/book/update responded 403 in 7.4231 ms
2026-02-01 16:26:41.145 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - 403 0 null 15.538ms
2026-02-01 16:26:50.091 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:26:50.095 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:26:50.097 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:26:50.109 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:26:50.112 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 11.3562ms
2026-02-01 16:26:50.114 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:26:50.116 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 20.6853 ms
2026-02-01 16:26:50.120 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 28.8694ms
2026-02-01 16:26:59.548 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - application/json 79
2026-02-01 16:26:59.789 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:26:59.864 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:27:00.060 +05:30 [INF] Executed DbCommand (153ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:27:00.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:27:00.068 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 188.338ms
2026-02-01 16:27:00.076 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:27:00.082 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 294.1482 ms
2026-02-01 16:27:00.094 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - 200 null text/plain; charset=utf-8 545.3993ms
2026-02-01 16:27:07.290 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=11 - application/json 79
2026-02-01 16:27:07.297 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:27:07.302 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:27:07.328 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:27:07.333 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:27:07.339 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 29.663ms
2026-02-01 16:27:07.343 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:27:07.345 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 48.6146 ms
2026-02-01 16:27:07.347 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=11 - 200 null text/plain; charset=utf-8 57.9159ms
2026-02-01 16:27:23.750 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:27:23.756 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:27:23.762 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:27:23.787 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:27:23.797 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:27:23.804 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 31.3356ms
2026-02-01 16:27:23.810 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:27:23.813 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 57.2570 ms
2026-02-01 16:27:23.818 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 200 null text/plain; charset=utf-8 67.3391ms
2026-02-01 16:28:55.189 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - null 0
2026-02-01 16:28:55.195 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:28:55.276 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:28:55.459 +05:30 [INF] Executed DbCommand (162ms) [Parameters=[@BookID='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC DeleteBook @BookID
2026-02-01 16:28:55.466 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:28:55.471 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem) in 182.7165ms
2026-02-01 16:28:55.474 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:28:55.477 +05:30 [INF] HTTP PATCH /api/book/delete responded 200 in 282.4868 ms
2026-02-01 16:28:55.482 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - 200 null text/plain; charset=utf-8 292.6651ms
2026-02-01 16:35:14.787 +05:30 [INF] Application is shutting down...
2026-02-01 16:35:46.292 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:35:46.392 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:35:46.519 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:35:46.676 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:35:46.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:35:46.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:35:46.783 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:35:46.808 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 16:35:46.856 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:35:46.921 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 16:35:47.075 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 16:35:47.080 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 16:35:47.083 +05:30 [INF] Hosting environment: Development
2026-02-01 16:35:47.084 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 16:36:29.751 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:36:30.011 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:36:30.067 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:36:30.488 +05:30 [ERR] Failed executing DbCommand (235ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:36:30.550 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 467.4003ms
2026-02-01 16:36:30.558 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:36:30.571 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 760.9789 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:36:31.051 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:36:31.133 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 1385.509ms
2026-02-01 16:36:50.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:36:50.188 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:36:50.197 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:36:50.516 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:36:50.532 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 331.2775ms
2026-02-01 16:36:50.575 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:36:50.610 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 437.0919 ms
2026-02-01 16:36:50.632 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 470.6355ms
2026-02-01 16:37:00.986 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:37:01.013 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:37:01.015 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:37:01.182 +05:30 [ERR] Failed executing DbCommand (21ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:37:01.188 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 168.0516ms
2026-02-01 16:37:01.191 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:37:01.193 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 198.9717 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:37:01.232 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 102
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:37:01.265 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 279.0279ms
2026-02-01 16:37:08.477 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - null 0
2026-02-01 16:37:08.484 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:37:08.500 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:37:08.709 +05:30 [ERR] Failed executing DbCommand (181ms) [Parameters=[@BookID='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC DeleteBook @BookID
2026-02-01 16:37:08.716 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem) in 207.5486ms
2026-02-01 16:37:08.725 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:37:08.728 +05:30 [ERR] HTTP PATCH /api/book/delete responded 500 in 247.0295 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.DeleteBook(Int32 bookId) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 52
   at LibraryManagementSystem.Controllers.BookController.DeleteBook(Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:37:08.759 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.DeleteBook(Int32 bookId) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 52
   at LibraryManagementSystem.Controllers.BookController.DeleteBook(Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:18fdb427-c8a1-4957-b3f4-50becc736649
Error Number:50000,State:1,Class:16
2026-02-01 16:37:08.792 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - 500 null text/plain; charset=utf-8 314.8962ms
2026-02-01 16:43:57.497 +05:30 [INF] Application is shutting down...
2026-02-01 16:44:54.450 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:44:54.577 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:44:54.847 +05:30 [INF] Executed DbCommand (259ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:44:55.030 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:44:55.056 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:44:55.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:44:55.250 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:44:55.292 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 16:44:55.318 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:44:55.376 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 16:44:55.559 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 16:44:55.564 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 16:44:55.567 +05:30 [INF] Hosting environment: Development
2026-02-01 16:44:55.569 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 16:45:39.652 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:45:40.093 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:45:40.263 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:45:40.594 +05:30 [ERR] Failed executing DbCommand (141ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:45:40.620 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 345.3021ms
2026-02-01 16:45:40.628 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:45:40.643 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 907.7849 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:d2c097d7-f6ea-4822-86c8-f5cd1a121c80
Error Number:50000,State:1,Class:16
2026-02-01 16:45:41.281 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d2c097d7-f6ea-4822-86c8-f5cd1a121c80
Error Number:50000,State:1,Class:16
2026-02-01 16:45:41.365 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 1716.2177ms
2026-02-01 16:45:42.013 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:45:42.032 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:45:42.043 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:45:42.126 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:45:42.135 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 87.4779ms
2026-02-01 16:45:42.137 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:45:42.144 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 118.3005 ms
2026-02-01 16:45:42.149 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 134.9192ms
2026-02-01 16:46:05.236 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:46:05.260 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:46:05.263 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:46:05.419 +05:30 [ERR] Failed executing DbCommand (8ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:46:05.467 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 197.9222ms
2026-02-01 16:46:05.473 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:46:05.475 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 231.0088 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:d2c097d7-f6ea-4822-86c8-f5cd1a121c80
Error Number:50000,State:1,Class:16
2026-02-01 16:46:05.519 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:d2c097d7-f6ea-4822-86c8-f5cd1a121c80
Error Number:50000,State:1,Class:16
2026-02-01 16:46:05.554 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 317.527ms
2026-02-01 16:46:24.913 +05:30 [INF] Application is shutting down...
2026-02-01 16:47:04.537 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:47:04.633 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:47:05.028 +05:30 [INF] Executed DbCommand (388ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:47:05.206 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:47:05.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:47:05.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:47:05.247 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:47:05.264 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 16:47:05.271 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:47:05.305 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 16:47:05.499 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 16:47:05.504 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 16:47:05.506 +05:30 [INF] Hosting environment: Development
2026-02-01 16:47:05.508 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 16:47:11.147 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:47:11.400 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:47:11.432 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:47:11.593 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:47:11.613 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 167.2024ms
2026-02-01 16:47:11.617 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:47:11.622 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 417.9239 ms
2026-02-01 16:47:11.633 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 490.0896ms
2026-02-01 16:47:15.660 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:47:15.688 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:47:15.716 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:47:15.892 +05:30 [ERR] Failed executing DbCommand (66ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:47:15.916 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 194.8252ms
2026-02-01 16:47:15.921 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:47:15.930 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 260.7700 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:3bebf8fd-c6a1-40fe-9af4-b26751f3fb86
Error Number:50000,State:1,Class:16
2026-02-01 16:47:16.003 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:3bebf8fd-c6a1-40fe-9af4-b26751f3fb86
Error Number:50000,State:1,Class:16
2026-02-01 16:47:16.037 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 376.9024ms
2026-02-01 16:51:59.347 +05:30 [INF] Application is shutting down...
2026-02-01 16:53:03.618 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:53:03.730 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 16:53:03.923 +05:30 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 16:53:04.132 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 16:53:04.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 16:53:04.157 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 16:53:04.275 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 16:53:04.307 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 16:53:04.322 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 16:53:04.391 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 16:53:04.649 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 16:53:04.654 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 16:53:04.656 +05:30 [INF] Hosting environment: Development
2026-02-01 16:53:04.658 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 16:55:16.729 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 16:55:16.731 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:55:17.137 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:55:17.137 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:55:17.183 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 16:55:17.183 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:55:17.339 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 16:55:17.359 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 164.5153ms
2026-02-01 16:55:17.370 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 16:55:17.378 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 553.0210 ms
2026-02-01 16:55:17.400 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 677.198ms
2026-02-01 16:55:18.062 +05:30 [ERR] Failed executing DbCommand (586ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:55:18.079 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 888.3161ms
2026-02-01 16:55:18.083 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:55:18.086 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 1266.6169 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 139
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:55:20.406 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 139
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:55:20.448 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 3726.8375ms
2026-02-01 16:56:11.231 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - application/json 79
2026-02-01 16:56:11.464 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:11.526 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:56:11.945 +05:30 [INF] Executed DbCommand (216ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:56:11.951 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:56:11.955 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 416.4329ms
2026-02-01 16:56:11.958 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:11.960 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 515.4459 ms
2026-02-01 16:56:11.965 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - 200 null text/plain; charset=utf-8 733.6188ms
2026-02-01 16:56:19.447 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - application/json 79
2026-02-01 16:56:19.457 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:19.460 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:56:19.488 +05:30 [ERR] Failed executing DbCommand (8ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:56:19.494 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 29.9798ms
2026-02-01 16:56:19.497 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:19.500 +05:30 [ERR] HTTP PATCH /api/book/update responded 500 in 47.1506 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 139
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:56:19.581 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.UpdateBook(Int32 bookId, String title, String author, Int32 totalCopies) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 41
   at LibraryManagementSystem.Controllers.BookController.UpdateBook(BookDto dto, Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 139
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:56:19.626 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=100 - 500 null text/plain; charset=utf-8 179.1955ms
2026-02-01 16:56:26.939 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - application/json 79
2026-02-01 16:56:26.945 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:26.947 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(LibraryManagementSystem.Dtos.BookDto, Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:56:26.992 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@BookID='?' (DbType = Int32), @Title='?' (Size = 11), @Author='?' (Size = 8), @TotalCopies='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC UpdateBook @BookID, @Title, @Author, @TotalCopies
2026-02-01 16:56:26.996 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-02-01 16:56:26.999 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem) in 39.4496ms
2026-02-01 16:56:27.005 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.UpdateBook (LibraryManagementSystem)'
2026-02-01 16:56:27.007 +05:30 [INF] HTTP PATCH /api/book/update responded 200 in 62.8447 ms
2026-02-01 16:56:27.010 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/update?bookID=1 - 200 null text/plain; charset=utf-8 70.6033ms
2026-02-01 16:56:35.786 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - null 0
2026-02-01 16:56:35.857 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:56:35.907 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(Int32) on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 16:56:36.043 +05:30 [ERR] Failed executing DbCommand (104ms) [Parameters=[@BookID='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC DeleteBook @BookID
2026-02-01 16:56:36.053 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem) in 127.9386ms
2026-02-01 16:56:36.057 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.DeleteBook (LibraryManagementSystem)'
2026-02-01 16:56:36.061 +05:30 [ERR] HTTP PATCH /api/book/delete responded 500 in 259.3955 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.DeleteBook(Int32 bookId) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 52
   at LibraryManagementSystem.Controllers.BookController.DeleteBook(Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 147
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:56:36.102 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Book not found
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__193_1(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.DeleteBook(Int32 bookId) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 52
   at LibraryManagementSystem.Controllers.BookController.DeleteBook(Int32 bookID) in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 147
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:7bdb6973-757c-461f-9885-075d84462a44
Error Number:50000,State:1,Class:16
2026-02-01 16:56:36.136 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5084/api/book/delete?bookID=30 - 500 null text/plain; charset=utf-8 349.3925ms
2026-02-01 19:01:20.187 +05:30 [INF] Application is shutting down...
2026-02-01 19:34:43.652 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 19:34:43.769 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 19:34:44.037 +05:30 [INF] Executed DbCommand (260ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 19:34:44.306 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 19:34:44.323 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 19:34:44.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 19:34:44.421 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 19:34:44.440 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 19:34:44.482 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 19:34:44.562 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 19:34:44.797 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 19:34:44.801 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 19:34:44.804 +05:30 [INF] Hosting environment: Development
2026-02-01 19:34:44.806 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 19:37:19.992 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/book/all - null null
2026-02-01 19:37:20.771 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-01 19:37:20.796 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-01 19:37:20.805 +05:30 [INF] HTTP GET /api/book/all responded 401 in 629.6085 ms
2026-02-01 19:37:20.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/book/all - 401 0 null 893.2372ms
2026-02-01 19:37:34.347 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - application/json 45
2026-02-01 19:37:34.898 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 19:37:35.195 +05:30 [INF] Route matched with {action = "AdminLogin", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AdminLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 19:37:36.114 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 19:37:36.137 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem) in 930.5149ms
2026-02-01 19:37:36.140 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.AdminLogin (LibraryManagementSystem)'
2026-02-01 19:37:36.141 +05:30 [INF] HTTP POST /api/auth/admin/login responded 200 in 1784.5178 ms
2026-02-01 19:37:36.192 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/admin/login - 200 null application/json; charset=utf-8 1845.7507ms
2026-02-01 19:37:41.403 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/book/all - null null
2026-02-01 19:37:41.758 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem)'
2026-02-01 19:37:41.776 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 19:37:44.212 +05:30 [ERR] Failed executing DbCommand (1,204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_GetAllBooks
2026-02-01 19:37:44.464 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:61e26eb8-9370-49f5-9413-eb785757dd7e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:61e26eb8-9370-49f5-9413-eb785757dd7e
Error Number:208,State:1,Class:16
2026-02-01 19:37:44.489 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem) in 2708.3721ms
2026-02-01 19:37:44.493 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem)'
2026-02-01 19:37:44.499 +05:30 [ERR] HTTP GET /api/book/all responded 500 in 3090.1174 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 79
   at LibraryManagementSystem.Controllers.BookController.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 172
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:61e26eb8-9370-49f5-9413-eb785757dd7e
Error Number:208,State:1,Class:16
2026-02-01 19:37:48.431 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 79
   at LibraryManagementSystem.Controllers.BookController.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 172
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:61e26eb8-9370-49f5-9413-eb785757dd7e
Error Number:208,State:1,Class:16
2026-02-01 19:37:48.514 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/book/all - 500 null text/plain; charset=utf-8 7110.6897ms
2026-02-01 19:55:35.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5084/api/book/all - null null
2026-02-01 19:55:39.586 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem)'
2026-02-01 19:55:40.179 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller LibraryManagementSystem.Controllers.BookController (LibraryManagementSystem).
2026-02-01 19:55:45.471 +05:30 [ERR] Failed executing DbCommand (168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_GetAllBooks
2026-02-01 19:55:45.787 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LibraryManagementSystem.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c2b08ea0-4cc2-4e06-b33d-95633ccbdc71
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c2b08ea0-4cc2-4e06-b33d-95633ccbdc71
Error Number:208,State:1,Class:16
2026-02-01 19:55:45.850 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem) in 5608.3301ms
2026-02-01 19:55:45.854 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.BookController.GetAllBooks (LibraryManagementSystem)'
2026-02-01 19:55:45.858 +05:30 [ERR] HTTP GET /api/book/all responded 500 in 9312.3083 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 79
   at LibraryManagementSystem.Controllers.BookController.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 172
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:c2b08ea0-4cc2-4e06-b33d-95633ccbdc71
Error Number:208,State:1,Class:16
2026-02-01 19:55:46.236 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Books'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Repositories.BookRepository.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Repositories\BookRepository.cs:line 79
   at LibraryManagementSystem.Controllers.BookController.GetAllBooks() in C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem\Controllers\BookController.cs:line 172
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:c2b08ea0-4cc2-4e06-b33d-95633ccbdc71
Error Number:208,State:1,Class:16
2026-02-01 19:55:46.696 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5084/api/book/all - 500 null text/plain; charset=utf-8 11062.2294ms
2026-02-01 19:56:32.209 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/auth/user/login - application/json 51
2026-02-01 19:56:32.500 +05:30 [INF] Executing endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 19:56:35.129 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLogin(LibraryManagementSystem.Controllers.LoginRequest) on controller LibraryManagementSystem.Controllers.AuthController (LibraryManagementSystem).
2026-02-01 19:56:47.669 +05:30 [INF] Executed DbCommand (1,854ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[ContactNumber], [u].[Department], [u].[IsBlocked], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2026-02-01 19:56:49.855 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-01 19:56:49.950 +05:30 [INF] Executed action LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem) in 14728.0689ms
2026-02-01 19:56:49.954 +05:30 [INF] Executed endpoint 'LibraryManagementSystem.Controllers.AuthController.UserLogin (LibraryManagementSystem)'
2026-02-01 19:56:49.956 +05:30 [INF] HTTP POST /api/auth/user/login responded 200 in 17599.8076 ms
2026-02-01 19:56:49.958 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/auth/user/login - 200 null application/json; charset=utf-8 17749.6472ms
2026-02-01 19:57:17.674 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 19:57:17.740 +05:30 [INF] HTTP POST /api/book/add responded 404 in 15.5525 ms
2026-02-01 19:57:17.744 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 404 0 null 69.7338ms
2026-02-01 19:57:17.902 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5084/api/book/add, Response status code: 404
2026-02-01 19:57:34.087 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 19:57:34.091 +05:30 [INF] HTTP POST /api/book/add responded 404 in 0.3325 ms
2026-02-01 19:57:34.094 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 404 0 null 7.8369ms
2026-02-01 19:57:34.099 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5084/api/book/add, Response status code: 404
2026-02-01 19:57:38.068 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/add - application/json 63
2026-02-01 19:57:38.099 +05:30 [INF] HTTP POST /api/book/add responded 404 in 0.5236 ms
2026-02-01 19:57:38.103 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/add - 404 0 null 34.347ms
2026-02-01 19:57:38.108 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5084/api/book/add, Response status code: 404
2026-02-01 20:32:10.656 +05:30 [INF] Application is shutting down...
2026-02-01 20:55:15.999 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 20:55:16.144 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-01 20:55:16.465 +05:30 [INF] Executed DbCommand (313ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-01 20:55:16.819 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-01 20:55:16.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-01 20:55:16.863 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-01 20:55:18.330 +05:30 [INF] Executed DbCommand (1,452ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-01 20:55:18.348 +05:30 [INF] No migrations were applied. The database is already up to date.
2026-02-01 20:55:18.477 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-01 20:55:18.579 +05:30 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-01 20:55:18.900 +05:30 [INF] Now listening on: http://localhost:5084
2026-02-01 20:55:18.913 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2026-02-01 20:55:18.925 +05:30 [INF] Hosting environment: Development
2026-02-01 20:55:18.928 +05:30 [INF] Content root path: C:\Users\user\Documents\dotnet\LMS\LibraryManagementSystem
2026-02-01 20:59:15.868 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/create - application/json 87
2026-02-01 20:59:16.580 +05:30 [INF] HTTP POST /api/book/create responded 404 in 479.8779 ms
2026-02-01 20:59:16.628 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/create - 404 0 null 762.6774ms
2026-02-01 20:59:16.654 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5084/api/book/create, Response status code: 404
2026-02-01 21:13:05.955 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5084/api/book/create - application/json 87
2026-02-01 21:13:06.137 +05:30 [INF] HTTP POST /api/book/create responded 404 in 85.9498 ms
2026-02-01 21:13:06.149 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5084/api/book/create - 404 0 null 207.5603ms
2026-02-01 21:13:06.248 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5084/api/book/create, Response status code: 404
2026-02-01 21:15:43.733 +05:30 [INF] Application is shutting down...
